import{r as i,l as E,j as e,aF as f,ap as j,e as N}from"./index-BDAcJp4Y.js";const A=()=>{const[c,m]=i.useState(""),[d,o]=i.useState(""),[h,n]=i.useState(""),[r,l]=i.useState(""),[u,g]=i.useState(!1),x=E(),b=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,p=a=>a?b.test(a)?"":"Email không đúng định dạng. Vui lòng nhập email hợp lệ.":"Email không được để trống.",v=a=>{const s=a.target.value;if(m(s),l(""),n(""),s){const t=p(s);l(t)}},k=async a=>{a.preventDefault(),o(""),n("");const s=p(c);if(s){l(s);return}l(""),g(!0);try{const t=await N.post("/sendActiveAccount",{email:c});await new Promise(y=>setTimeout(y,1e3)),o(t.data.message||"Yêu cầu kích hoạt đã được gửi thành công! Vui lòng kiểm tra email của bạn."),m(""),setTimeout(()=>{o("Vui lòng kiểm tra email của bạn để kích hoạt tài khoản!"),setTimeout(()=>{x("/")},1500)},3e3)}catch(t){g(!1),t.response&&t.response.data?n(t.response.data.message||"Đã xảy ra lỗi khi gửi yêu cầu."):n("Không thể kết nối đến máy chủ. Vui lòng thử lại sau.")}};return e.jsxs(f,{title:"Kích hoạt tài khoản",icon:j,children:[e.jsx("p",{className:"text-secondary text-sm text-center mb-6 -mt-4",children:"Chưa nhận được email? Nhập lại email của bạn để chúng tôi gửi lại liên kết kích hoạt."}),d&&e.jsx("div",{className:"alert alert-success mb-4",children:d}),h&&e.jsx("div",{className:"alert alert-danger mb-4",children:h}),e.jsxs("form",{onSubmit:k,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-semibold text-secondary mb-2",children:"Địa chỉ Email"}),e.jsx("input",{type:"email",id:"email",value:c,onChange:v,required:!0,className:`w-full rounded-lg px-4 py-3 bg-input text-input border-themed border-hover placeholder-theme ${r?"border-red-500 border-2":""}`,placeholder:"example@email.com"}),r&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:r})]}),e.jsx("button",{type:"submit",disabled:u||!!r,className:"action-button action-button-primary disabled:opacity-50 disabled:cursor-not-allowed",children:u?"Đang gửi...":"Gửi lại email kích hoạt"})]})]})};export{A as default};
