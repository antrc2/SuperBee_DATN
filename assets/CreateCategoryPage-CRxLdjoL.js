import{l as u,r as l,u as h,j as e,m as p,x as f,e as b}from"./index-BDAcJp4Y.js";import{C as y}from"./CategoryForm-BBFHFLKj.js";function k(){const c=u(),[m,t]=l.useState(!1),[s,r]=l.useState(null),n=h(),x=async g=>{var i,o;t(!0),r(null);try{const a=await b.post("/admin/categories",g,{headers:{"Content-Type":"multipart/form-data"}});return(a.status===201||a.status===200)&&(n.pop("Tạo danh mục thành công!","s"),c("/admin/categories")),a.data}catch(a){const d=((o=(i=a.response)==null?void 0:i.data)==null?void 0:o.message)||"Có lỗi xảy ra, vui lòng thử lại.";n.pop(d,"e"),r(d)}finally{t(!1)}};return e.jsxs("div",{className:"p-4 sm:p-6 bg-gray-50 dark:bg-gray-900 min-h-screen",children:[e.jsxs("div",{className:"flex items-center h-14 justify-between mb-4",children:[e.jsxs(p,{to:"/admin/categories",className:"flex items-center gap-2 text-gray-600 hover:text-blue-600 dark:text-gray-400 dark:hover:text-blue-500",children:[e.jsx(f,{size:20}),"Quay lại danh sách"]}),e.jsx("h2",{className:"text-2xl font-semibold text-gray-800 dark:text-gray-100 text-center flex-1",children:"Thêm danh mục mới"}),e.jsx("div",{className:"w-[150px]"})," "]}),s&&e.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-md relative mb-4 dark:bg-red-900 dark:border-red-700 dark:text-red-300",role:"alert",children:e.jsx("span",{className:"block sm:inline",children:s})}),e.jsx(y,{onSubmit:x,isLoading:m})]})}export{k as default};
