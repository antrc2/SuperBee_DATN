import{l as x,u as h,r as c,j as e,m as f,x as g,e as j}from"./index-BDAcJp4Y.js";import{C as y}from"./CreateFormProducts-CBgeXwVG.js";import"./eye-off-BAWBfQHX.js";import"./circle-plus-BeqJaH6W.js";import"./image-plus-C5pcu-jQ.js";function S(){const l=x(),{pop:t}=h(),[d,r]=c.useState(!1),[a,n]=c.useState(null),u=async p=>{var o,i;r(!0),n(null);try{const s=await j.post("/admin/products",p,{headers:{"Content-Type":"multipart/form-data"}});return(s.status===201||s.status===200)&&(t("Tạo sản phẩm thành công!","s"),l("/admin/products")),s.data}catch(s){console.error(s);const m=((i=(o=s.response)==null?void 0:o.data)==null?void 0:i.message)||"Có lỗi xảy ra, vui lòng thử lại.";n(m),t(m,"e")}finally{r(!1)}};return e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center h-14",children:[e.jsx("div",{className:"flex items-center  ",children:e.jsxs(f,{to:"/admin/products",className:"flex items-center gap-2 text-gray-600 hover:text-gray-900",children:[e.jsx(g,{size:20}),"Quay lại danh sách"]})}),e.jsx("h2",{className:"text-2xl font-semibold mb-4 ml-4 mt-3 text-gray-700",children:"Thêm sản phẩm mới"})]}),a&&e.jsx("div",{className:"bg-red-100 text-red-700 p-3 rounded-md mb-4",children:a}),e.jsx(y,{onSubmit:u,isLoading:d})]})}export{S as default};
