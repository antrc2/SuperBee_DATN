import{d as x,u as h,r as c,j as s,L as f,h as g}from"./index-Ck68-v7X.js";import{C as j}from"./CreateFormProducts-3y1k8DHu.js";import{A as y}from"./arrow-left-DnNXV8Pl.js";import"./eye-off-q2xpTA_T.js";import"./circle-plus-CHXWEVhw.js";import"./image-plus-BXCLuFJ3.js";function E(){const d=x(),{pop:e}=h(),[l,r]=c.useState(!1),[a,o]=c.useState(null),u=async p=>{var n,i;r(!0),o(null);try{const t=await g.post("/admin/products",p,{headers:{"Content-Type":"multipart/form-data"}});return(t.status===201||t.status===200)&&(e("Tạo sản phẩm thành công!","s"),d("/admin/products")),t.data}catch(t){console.error(t);const m=((i=(n=t.response)==null?void 0:n.data)==null?void 0:i.message)||"Có lỗi xảy ra, vui lòng thử lại.";o(m),e(m,"e")}finally{r(!1)}};return s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center h-14",children:[s.jsx("div",{className:"flex items-center  ",children:s.jsxs(f,{to:"/admin/products",className:"flex items-center gap-2 text-gray-600 hover:text-gray-900",children:[s.jsx(y,{size:20}),"Quay lại danh sách"]})}),s.jsx("h2",{className:"text-2xl font-semibold mb-4 ml-4 mt-3 text-gray-700",children:"Thêm sản phẩm mới"})]}),a&&s.jsx("div",{className:"bg-red-100 text-red-700 p-3 rounded-md mb-4",children:a}),s.jsx(j,{onSubmit:u,isLoading:l})]})}export{E as default};
