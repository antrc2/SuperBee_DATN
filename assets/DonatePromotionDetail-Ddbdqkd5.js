import{k as p,r as x,j as e,g as k,L as m,x as v,y,s as w,h as _}from"./index-CBuA2RNo.js";import{A as L}from"./arrow-left-Bdpn0kIn.js";const r=({children:s,className:t=""})=>e.jsx("div",{className:`bg-white dark:bg-slate-800 text-slate-800 dark:text-slate-200 border border-slate-200 dark:border-slate-700 rounded-lg shadow-sm ${t}`,children:s}),d=({children:s,className:t=""})=>e.jsx("div",{className:`p-6 ${t}`,children:s}),i=({children:s,className:t=""})=>e.jsx("div",{className:`p-6 pt-0 ${t}`,children:s}),h=({children:s,className:t=""})=>e.jsx("h2",{className:`text-xl font-semibold tracking-tight ${t}`,children:s});function D(){const{id:s}=p(),[t,j]=x.useState(null),[g,u]=x.useState(!0),[o,b]=x.useState(null);if(x.useEffect(()=>{(async()=>{try{const c=await _.get(`/admin/donate_promotions/${s}`);j(c.data.data)}catch{b("Không thể tải chi tiết khuyến mãi.")}finally{u(!1)}})()},[s]),g)return e.jsx(k,{});if(o||!t)return e.jsxs("div",{className:"text-center bg-red-100 dark:bg-red-900/20 text-red-700 dark:text-red-400 p-4 rounded-md",children:[e.jsx("p",{children:o||"Không tìm thấy dữ liệu khuyến mãi."}),e.jsx(m,{to:"/admin/donatePromotions",className:"mt-4 inline-block text-blue-600 dark:text-blue-400 hover:underline",children:"Quay lại danh sách"})]});const{creator:l,web:P}=t,a=({label:n,value:c,children:N})=>e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:n}),e.jsx("dd",{className:"mt-1 text-sm text-slate-900 dark:text-slate-50",children:N||c})]}),f=({active:n})=>n?e.jsx("span",{className:"ml-1 px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-300",children:"Hoạt động"}):e.jsx("span",{className:"ml-1 px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-300",children:"Tạm tắt"});return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(m,{to:"/admin/donatePromotions",className:"flex items-center gap-2 text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-slate-100 transition-colors",children:[e.jsx(L,{size:20}),"Quay lại danh sách"]}),e.jsxs("h1",{className:"text-3xl font-bold tracking-tight text-slate-900 dark:text-slate-100",children:["Chi tiết khuyến mãi:"," ",e.jsx("span",{className:"text-blue-600 dark:text-blue-400",children:l.donate_code})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsxs(r,{children:[e.jsxs(d,{className:"flex flex-row items-center justify-between pb-2",children:[e.jsx("h3",{className:"text-sm font-medium",children:"Mức giảm"}),e.jsx(v,{className:"h-4 w-4 text-slate-500 dark:text-slate-400"})]}),e.jsx(i,{children:e.jsxs("div",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:[t.amount,"%"]})})]}),e.jsxs(r,{children:[e.jsxs(d,{className:"flex flex-row items-center justify-between pb-2",children:[e.jsx("h3",{className:"text-sm font-medium",children:"Đã sử dụng"}),e.jsx(y,{className:"h-4 w-4 text-slate-500 dark:text-slate-400"})]}),e.jsx(i,{children:e.jsxs("div",{className:"text-2xl font-bold",children:[t.total_used," lượt"]})})]}),e.jsxs(r,{children:[e.jsxs(d,{className:"flex flex-row items-center justify-between pb-2",children:[e.jsx("h3",{className:"text-sm font-medium",children:"Giới hạn mỗi người"}),e.jsx(w,{className:"h-4 w-4 text-slate-500 dark:text-slate-400"})]}),e.jsx(i,{children:e.jsx("div",{className:"text-2xl font-bold",children:t.per_user_limit===-1?"Vô hạn":`${t.per_user_limit} lần`})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs(r,{className:"lg:col-span-2",children:[e.jsx(d,{children:e.jsx(h,{children:"Thông tin chi tiết"})}),e.jsx(i,{children:e.jsxs("dl",{className:"grid grid-cols-1 sm:grid-cols-2 gap-x-6 gap-y-4",children:[e.jsx(a,{label:"Mã khuyến mãi",value:l.donate_code}),e.jsx(a,{label:"Trạng thái",children:e.jsx(f,{active:t.status===1})}),e.jsx(a,{label:"Bắt đầu",value:new Date(t.start_date).toLocaleString("vi-VN")}),e.jsx(a,{label:"Kết thúc",value:new Date(t.end_date).toLocaleString("vi-VN")}),e.jsx(a,{label:"Giới hạn tổng",value:t.usage_limit===-1?"Không giới hạn":`${t.usage_limit} lượt`}),e.jsx(a,{label:"Ngày tạo",value:new Date(t.created_at).toLocaleString("vi-VN")})]})})]}),e.jsxs(r,{children:[e.jsx(d,{children:e.jsx(h,{children:"Người tạo"})}),e.jsxs(i,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("img",{src:l.avatar_url,alt:"avatar",className:"w-14 h-14 rounded-full object-cover border-2 border-slate-200 dark:border-slate-700"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:l.username}),e.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:["ID: ",l.id]})]})]}),e.jsxs("dl",{className:"space-y-2 text-sm",children:[e.jsx(a,{label:"Email",value:l.email}),e.jsx(a,{label:"SĐT",value:l.phone||"Chưa có"})]})]})]})]})]})}export{D as default};
