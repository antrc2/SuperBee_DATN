import{c as k,r as p,j as e,X as v,C as N,S as w,o as C}from"./index-DNv7UJt1.js";import{P as _}from"./plus-DYfya7ca.js";import{F as z}from"./funnel-CQvX1lyQ.js";/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],F=k("check",M);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],R=k("rotate-ccw",L),E=({isOpen:i,onClose:d,onApplyFilters:u,onResetFilters:l,initialFilters:g,filterConfig:y})=>{const[t,n]=p.useState(g);p.useEffect(()=>{n(g)},[g,i]);const c=(r,a)=>{n(s=>({...s,[r]:a}))},o=(r,a,s)=>{const b=`${r}_${a}`;n(x=>({...x,[b]:s}))},h=()=>{const r=Object.fromEntries(Object.entries(t).filter(([a,s])=>s!==""&&s!==void 0&&s!==null));u(r),d()},m=()=>{n({}),l(),d()};return i?e.jsx("div",{className:"mb-5",children:e.jsxs("div",{onClick:r=>r.stopPropagation(),className:"bg-white dark:bg-gray-800 p-5 rounded-lg shadow-lg transform transition-all duration-300 ease-in-out origin-top-right animate-slide-down border dark:border-gray-700",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4 pb-4 border-b dark:border-gray-700",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-gray-100",children:"Bộ lọc nâng cao"}),e.jsx("button",{onClick:d,className:"p-1 rounded-full text-gray-500 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-700 hover:text-gray-800 dark:hover:text-gray-100 transition-colors",children:e.jsx(v,{size:20})})]}),e.jsx("div",{className:"space-y-4 max-h-[60vh] overflow-y-auto pr-2",children:y.map(r=>e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{htmlFor:r.name,className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5",children:r.label}),r.type==="text"&&e.jsx("input",{type:"text",id:r.name,name:r.name,placeholder:r.placeholder,value:t[r.name]||"",onChange:a=>c(r.name,a.target.value),className:"px-3 py-2 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-200 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 dark:focus:ring-indigo-400 transition"}),r.type==="number_range"&&e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsx("input",{type:"number",name:r.minName,placeholder:r.placeholderMin,value:t[r.minName]||"",onChange:a=>o(r.name,"min",a.target.value),className:"w-full sm:w-1/2 px-3 py-2 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-200 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 dark:focus:ring-indigo-400 transition"}),e.jsx("input",{type:"number",name:r.maxName,placeholder:r.placeholderMax,value:t[r.maxName]||"",onChange:a=>o(r.name,"max",a.target.value),className:"w-full sm:w-1/2 px-3 py-2 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-200 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 dark:focus:ring-indigo-400 transition"})]}),r.type==="select"&&e.jsx("select",{id:r.name,name:r.name,value:t[r.name]||"",onChange:a=>c(r.name,a.target.value),className:"px-3 py-2 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-200 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 dark:focus:ring-indigo-400 transition",children:r.options.map((a,s)=>e.jsx("option",{value:a.value,className:"dark:bg-gray-700 dark:text-gray-200",children:a.label},s))})]},r.name))}),e.jsxs("div",{className:"mt-6 flex justify-end gap-3 border-t dark:border-gray-700 pt-4",children:[e.jsxs("button",{onClick:m,className:"flex items-center gap-2 px-4 py-2 bg-gray-200 dark:bg-gray-600 text-gray-800 dark:text-gray-100 rounded-md hover:bg-gray-300 dark:hover:bg-gray-500 transition-colors focus:outline-none focus:ring-2 focus:ring-gray-400",children:[e.jsx(R,{size:16}),"Reset"]}),e.jsxs("button",{onClick:h,className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 transition-colors focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800",children:[e.jsx(F,{size:18}),"Áp dụng"]})]})]})}):null},T=({title:i,children:d,showBackButton:u=!0,showAddButton:l=!1,showBrowse:g=!1,onBack:y,onAdd:t,onLocalSearch:n,initialSearchTermLocal:c,paginationMeta:o,onPageChange:h,onApplyFilters:m,onResetFilters:r,activeFilterCount:a,initialFilters:s,filterConfig:b})=>{const[x,f]=p.useState(!1);return e.jsx("div",{className:"flex-1 bg-gray-100 dark:bg-gray-900 transition-colors duration-200",children:e.jsxs("main",{className:"p-4 sm:p-6 lg:p-8 space-y-6",children:[e.jsxs("header",{className:"flex flex-col sm:flex-row items-start sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 dark:text-gray-100",children:i}),e.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:l?"Thêm, xem, và quản lý các sản phẩm của bạn.":"Xem thông tin chi tiết về sản phẩm."})]}),e.jsxs("div",{className:"flex w-full sm:w-auto items-center gap-2",children:[u&&e.jsxs("button",{onClick:y,className:"flex items-center justify-center gap-2 text-sm font-medium text-gray-700 dark:text-gray-200 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 rounded-lg px-4 py-2 transition-colors",children:[e.jsx(N,{size:16}),e.jsx("span",{children:"Quay lại"})]}),l&&e.jsxs("button",{onClick:t,className:"flex w-full sm:w-auto items-center justify-center gap-2 bg-indigo-600 hover:bg-indigo-700 text-white font-semibold py-2 px-4 rounded-lg transition-colors shadow-sm",children:[e.jsx(_,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Thêm mới"})]})]})]}),n&&e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow-sm border dark:border-gray-700",children:[e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"relative flex-grow",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:e.jsx(w,{className:"text-gray-400",size:18})}),e.jsx("input",{type:"text",placeholder:"Tìm kiếm theo SKU...",value:c,onChange:j=>n(j.target.value),className:"w-full pl-10 p-2 text-sm text-gray-900 dark:text-gray-200 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-700 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition"})]}),m&&e.jsxs("button",{onClick:()=>f(!0),className:"relative flex-shrink-0 flex items-center justify-center gap-2 text-sm font-medium text-gray-700 dark:text-gray-200 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 rounded-lg px-4 py-2 transition-colors",children:[e.jsx(z,{size:16}),e.jsx("span",{children:"Bộ lọc"}),a>0&&e.jsx("span",{className:"absolute -top-2 -right-2 w-5 h-5 rounded-full bg-indigo-600 text-white text-xs flex items-center justify-center border-2 border-white dark:border-gray-800",children:a})]})]}),x&&e.jsx("div",{className:"mt-4",children:e.jsx(E,{isOpen:x,onClose:()=>f(!1),onApplyFilters:m,onResetFilters:r,initialFilters:s,filterConfig:b})})]}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border dark:border-gray-700 overflow-hidden",children:d}),o&&o.last_page>1&&e.jsx("div",{className:"bg-white dark:bg-gray-800 shadow-sm rounded-lg border dark:border-gray-700 py-3 px-4",children:e.jsx(C,{meta:o,onPageChange:h})})]})})};export{T as L};
