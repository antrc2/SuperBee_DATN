import{r as s,h as m,j as e,g as y,L as h,R as p}from"./index-D48GFfOH.js";const u="/admin/authorization/permissions";function k(){const[d,g]=s.useState({}),[o,n]=s.useState(!0),[i,c]=s.useState(""),x=s.useCallback(async()=>{var t,a;n(!0);try{const r=await m.get(u);r.data.status?g(r.data.data):c(r.data.message||"Không thể tải danh sách quyền.")}catch(r){c("Lỗi máy chủ: "+(((a=(t=r.response)==null?void 0:t.data)==null?void 0:a.message)||"Không thể tải danh sách quyền."))}finally{n(!1)}},[]);if(s.useEffect(()=>{x()},[x]),o)return e.jsx(y,{});const l=Object.keys(d);return e.jsxs("div",{className:"container mx-auto p-4 md:p-6 bg-gray-100 dark:bg-gray-900 min-h-screen",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-6 gap-4",children:[e.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-800 dark:text-gray-200",children:"Quyền Hệ Thống"}),e.jsx(h,{to:"/admin/authorization",className:"px-4 py-2 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-md text-sm font-medium text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors self-start sm:self-center",children:"← Về Dashboard"})]}),i&&e.jsx("div",{className:"bg-red-100 border-red-400 text-red-700 dark:bg-red-900/50 dark:border-red-700 dark:text-red-300 px-4 py-3 rounded-lg relative mb-4",role:"alert",children:i}),e.jsx("div",{className:"bg-white dark:bg-gray-800 shadow-lg rounded-lg overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700/50",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Quyền"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Mô tả"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Guard"})]})}),e.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:l.length>0?l.map(t=>e.jsxs(p.Fragment,{children:[e.jsx("tr",{className:"bg-gray-100 dark:bg-gray-700/80",children:e.jsxs("td",{colSpan:3,className:"px-6 py-3 text-sm font-semibold text-gray-800 dark:text-gray-100",children:["Nhóm: ",t]})}),d[t].map(a=>e.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700/40",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900 dark:text-gray-200 font-mono",children:a.name})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:a.description}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:e.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800 dark:bg-green-900/70 dark:text-green-300",children:a.guard_name||"api"})})]},a.id))]},t)):e.jsx("tr",{children:e.jsx("td",{colSpan:3,className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"Chưa có quyền nào được tạo."})})})]})})]})}export{k as default};
