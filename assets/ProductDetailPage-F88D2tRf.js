import{k as y,r as d,j as e,l as f,L as o,F as k,R as N,h as v}from"./index-BbqGDQoq.js";import{A as w}from"./arrow-left-Bp2n5xhI.js";const n=({title:l,children:t})=>e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border dark:border-gray-700",children:e.jsxs("div",{className:"p-4 sm:p-6",children:[e.jsx("h3",{className:"text-base font-semibold leading-6 text-gray-900 dark:text-gray-100",children:l}),e.jsx("div",{className:"mt-4 border-t border-gray-200 dark:border-gray-700",children:e.jsx("dl",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:t})})]})}),s=({label:l,children:t})=>e.jsxs("div",{className:"py-3 sm:py-4 grid grid-cols-1 sm:grid-cols-3 sm:gap-4",children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:l}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900 dark:text-gray-100 sm:col-span-2 sm:mt-0",children:t})]}),_=({status:l})=>{let t="",r="";switch(l){case 1:t="Đang bán",r="bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300";break;case 2:t="Chờ duyệt",r="bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300";break;case 3:t="Đã hủy",r="bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300";break;case 4:t="Bán thành công",r="bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300";break;default:t="Bị từ chối",r="bg-violet-100 text-violet-800 dark:bg-violet-900 dark:text-violet-300"}return e.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${r}`,children:t})};function C(){var m,u,b;const{id:l}=y(),[t,r]=d.useState(null),[j,g]=d.useState(!0),[x,h]=d.useState(null);return d.useEffect(()=>{(async()=>{g(!0);try{const c=(await v.get(`/admin/products/${l}`)).data.data;if(Array.isArray(c)&&c.length>0){const i=c[0];i.game_attributes&&!Array.isArray(i.game_attributes)&&(i.game_attributes=[i.game_attributes]),r(i)}else r(null),h("Sản phẩm không tồn tại.")}catch(p){console.error("Failed to fetch product details:",p),h("Không thể tải chi tiết sản phẩm.")}finally{g(!1)}})()},[l]),j?e.jsx("div",{className:"flex justify-center items-center h-96",children:e.jsx(f,{className:"animate-spin text-indigo-500",size:48})}):x?e.jsxs("div",{className:"m-8 text-center text-red-700 dark:text-red-300 bg-red-50 dark:bg-red-900/20 p-6 rounded-lg",children:[e.jsx("p",{className:"font-semibold",children:x}),e.jsx(o,{to:"/admin/products",className:"mt-4 inline-block text-sm font-semibold text-indigo-600 dark:text-indigo-400 hover:underline",children:"Quay lại danh sách"})]}):t?e.jsxs("div",{className:"p-4 sm:p-6 lg:p-8 space-y-6",children:[e.jsxs("header",{className:"flex flex-col sm:flex-row items-start sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 dark:text-gray-100",children:"Chi tiết sản phẩm"}),e.jsxs("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:["SKU:"," ",e.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:t.sku})]})]}),e.jsxs("div",{className:"flex w-full sm:w-auto items-center gap-2",children:[e.jsxs(o,{to:"/admin/products",className:"flex-1 sm:flex-none flex items-center justify-center gap-2 text-sm font-medium text-gray-700 dark:text-gray-200 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 rounded-lg px-4 py-2 transition-colors",children:[e.jsx(w,{size:16}),e.jsx("span",{children:"Quay lại"})]}),e.jsxs(o,{to:`/admin/products/${t.id}/edit`,className:"flex-1 sm:flex-none flex items-center justify-center gap-2 bg-indigo-600 hover:bg-indigo-700 text-white font-semibold py-2 px-4 rounded-lg transition-colors shadow-sm",children:[e.jsx(k,{size:16}),e.jsx("span",{children:"Chỉnh sửa"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs(n,{title:"Thông tin chung",children:[e.jsx(s,{label:"Danh mục",children:((m=t.category)==null?void 0:m.name)||"Chưa phân loại"}),e.jsx(s,{label:"Giá bán",children:`${t.price.toLocaleString()}đ`}),e.jsx(s,{label:"Giá nhập",children:`${t.import_price.toLocaleString()}đ`}),e.jsx(s,{label:"Giá sale",children:t.sale?`${t.sale.toLocaleString()}đ`:"Không có"}),e.jsx(s,{label:"Trạng thái",children:e.jsx(_,{status:t.status})}),e.jsx(s,{label:"Mô tả",children:t.description||"Không có mô tả"})]}),t.game_attributes&&t.game_attributes.length>0&&e.jsx(n,{title:"Thuộc tính riêng",children:t.game_attributes.map(a=>e.jsx(s,{label:a.attribute_key,children:a.attribute_value},a.id))}),t.credentials&&t.credentials.length>0&&e.jsx(n,{title:"Thông tin đăng nhập",children:t.credentials.map(a=>e.jsxs(N.Fragment,{children:[e.jsx(s,{label:"Tài khoản",children:a.username}),e.jsx(s,{label:"Mật khẩu",children:a.password})]},a.id))})]}),e.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[t.images&&t.images.length>0&&e.jsx(n,{title:"Hình ảnh",children:e.jsx("div",{className:"grid grid-cols-2 gap-4 pt-4",children:t.images.map(a=>e.jsx("div",{className:"aspect-square border dark:border-gray-600 rounded-lg overflow-hidden group",children:e.jsx("img",{src:a.image_url,alt:a.alt_text||`Ảnh sản phẩm ${t.sku}`,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"})},a.id))})}),e.jsxs(n,{title:"Thông tin bổ sung",children:[e.jsx(s,{label:"Ngày tạo",children:new Date(t.created_at).toLocaleString("vi-VN")}),e.jsx(s,{label:"Cập nhật lần cuối",children:new Date(t.updated_at).toLocaleString("vi-VN")}),e.jsx(s,{label:"Người tạo",children:((u=t.creator)==null?void 0:u.username)||"Không rõ"}),e.jsx(s,{label:"Người sửa",children:((b=t.updater)==null?void 0:b.username)||"Chưa có"})]})]})]})]}):null}export{C as default};
