import{k as y,r as i,j as e,l as j,L as h,h as p}from"./index-CfJ1g0mG.js";import{A as k}from"./arrow-left-DU3ZbXTy.js";const r=({label:d,value:t,className:n=""})=>e.jsxs("div",{className:"py-3 sm:grid sm:grid-cols-3 sm:gap-4",children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 dark:text-gray-300",children:d}),e.jsx("dd",{className:`mt-1 text-sm text-gray-900 dark:text-gray-100 sm:mt-0 sm:col-span-2 ${n}`,children:t})]});function N(){var x,m,b;const{id:d}=y(),[t,n]=i.useState(null),[u,c]=i.useState(!0),[o,g]=i.useState(null);return i.useEffect(()=>{(async()=>{c(!0);try{const l=(await p.get(`/partner/products/${d}`)).data.data;l&&l.id?(l.game_attributes&&!Array.isArray(l.game_attributes)&&(l.game_attributes=[l.game_attributes]),n(l)):(n(null),g("Sản phẩm không tồn tại."))}catch(s){console.error("Failed to fetch product details:",s),g("Không thể tải chi tiết sản phẩm.")}finally{c(!1)}})()},[d]),u?e.jsx("div",{className:"flex justify-center items-center h-96",children:e.jsx(j,{className:"animate-spin text-blue-500",size:48})}):o?e.jsxs("div",{className:"text-center text-red-600 bg-red-50 dark:bg-red-900 dark:text-red-300 p-4 rounded-md",children:[e.jsx("p",{children:o}),e.jsx(h,{to:"/partner/products",className:"mt-4 inline-block text-blue-600 hover:underline dark:text-blue-400 dark:hover:text-blue-200",children:"Quay lại danh sách"})]}):t?e.jsx("div",{className:"p-4 mx-auto max-w-(--breakpoint-2xl) md:p-6",children:e.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-xl shadow-lg border border-gray-200 dark:border-gray-800 p-6 transition",children:[e.jsx("div",{className:"flex justify-between items-center mb-6",children:e.jsxs(h,{to:"/partner/products",className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 dark:text-gray-300 dark:hover:text-white transition",children:[e.jsx(k,{size:20}),"Quay lại danh sách"]})}),e.jsxs("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 mb-4",children:["Chi tiết sản phẩm ",t.sku]}),e.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700",children:e.jsxs("dl",{children:[e.jsx(r,{label:"SKU",value:t.sku}),e.jsx(r,{label:"Danh mục",value:((x=t.category)==null?void 0:x.name)||"Chưa phân loại"}),e.jsx(r,{label:"Giá Bán",value:`${t.import_price.toLocaleString()}đ`}),e.jsx(r,{label:"Mô tả",value:t.description||"Không có mô tả"}),e.jsx(r,{label:"Giá khuyến mãi",value:t.sale?`${t.sale.toLocaleString()}đ`:"Không có"}),e.jsx(r,{label:"Trạng thái",value:(()=>{let a="",s="";switch(t.status){case 1:a="Đang bán",s="bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300";break;case 2:a="Chờ kiểm duyệt",s="bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300";break;case 3:a="Đã hủy bán",s="bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300";break;case 4:a="Bán thành công",s="bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300";break;default:a="Không xác định",s="bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"}return e.jsx("span",{className:`rounded-full px-3 py-1 text-xs font-semibold shadow-sm ${s}`,children:a})})()})]})}),e.jsxs("div",{className:"mt-8",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-gray-100 mb-2 border-b pb-2 border-gray-200 dark:border-gray-700",children:"Thông tin đăng nhập"}),t.credentials&&t.credentials.length>0?e.jsx("div",{children:t.credentials.map(a=>e.jsx("div",{className:"mb-4",children:e.jsxs("dl",{children:[e.jsx(r,{label:"Tài khoản",value:a.username}),e.jsx(r,{label:"Mật khẩu",value:"****** (Bảo mật)"})]})},a.id))}):e.jsx("p",{className:"text-sm text-gray-500",children:"Không có thông tin đăng nhập."})]}),t.game_attributes&&t.game_attributes.length>0&&e.jsxs("div",{className:"mt-8",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-gray-100 mb-2 border-b pb-2 border-gray-200 dark:border-gray-700",children:"Thuộc tính riêng"}),e.jsx("dl",{children:t.game_attributes.map(a=>e.jsx(r,{label:a.attribute_key,value:a.attribute_value},a.id))})]}),t.images&&t.images.length>0&&e.jsxs("div",{className:"mt-8",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-gray-100 mb-2 border-b pb-2 border-gray-200 dark:border-gray-700",children:"Hình ảnh"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-4",children:t.images.map(a=>e.jsx("div",{className:"border rounded-xl overflow-hidden border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900 shadow",children:e.jsx("img",{src:`${a.image_url}`,alt:a.alt_text||`Ảnh sản phẩm ${t.sku}`,className:"w-full h-40 object-cover rounded-lg"})},a.id))})]}),e.jsxs("div",{className:"mt-8",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-gray-100 mb-2 border-b pb-2 border-gray-200 dark:border-gray-700",children:"Thông tin bổ sung"}),e.jsxs("dl",{children:[e.jsx(r,{label:"Ngày tạo",value:new Date(t.created_at).toLocaleString("vi-VN")}),e.jsx(r,{label:"Ngày cập nhật",value:new Date(t.updated_at).toLocaleString("vi-VN")}),e.jsx(r,{label:"Người tạo",value:(m=t==null?void 0:t.creator)==null?void 0:m.username}),e.jsx(r,{label:"Người cập nhật",value:(b=t==null?void 0:t.updater)==null?void 0:b.username})]})]})]})}):null}export{N as default};
